{"ast":null,"code":"import _defineProperty from \"/Users/shawn/Documents/Projects/dog-tracker/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/Users/shawn/Documents/Projects/dog-tracker/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/shawn/Documents/Projects/dog-tracker/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/shawn/Documents/Projects/dog-tracker/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/shawn/Documents/Projects/dog-tracker/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/shawn/Documents/Projects/dog-tracker/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/shawn/Documents/Projects/dog-tracker/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/shawn/Documents/Projects/dog-tracker/client/src/DogList.js\";\nimport React, { Component, Fragment } from \"react\";\nimport axios from \"axios\";\nimport { Table } from \"react-bootstrap\";\nimport { Modal, Button, Form, Alert } from \"react-bootstrap\";\n\nvar DogList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DogList, _Component);\n\n  function DogList() {\n    var _this;\n\n    _classCallCheck(this, DogList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DogList).call(this));\n\n    _this.fetchData = function () {\n      axios.get(\"/dogs\").then(function (res) {\n        _this.setState({\n          dogs: res.data\n        });\n      });\n    };\n\n    _this.hideAlert = function () {\n      setTimeout(function () {\n        _this.setState({\n          showAlert: false\n        });\n      }, 3000);\n    };\n\n    _this.handleAlert = function (res) {\n      res.data.message && _this.setState({\n        alertType: \"success\",\n        showAlert: true\n      }, _this.hideAlert());\n      res.data.error && _this.setState({\n        alertType: \"dander\",\n        showAlert: true\n      }, _this.hideAlert());\n    };\n\n    _this.handleUpdate = function () {\n      var _this$state = _this.state,\n          id = _this$state.id,\n          name = _this$state.name,\n          owner = _this$state.owner,\n          notes = _this$state.notes;\n      var json = {\n        id: id,\n        name: name,\n        owner: owner,\n        notes: notes\n      };\n      axios.put(\"/dogs/\" + id, json).then(function (res) {\n        return _this.handleAlert(res);\n      }).catch(function (e) {\n        return console.log(e);\n      });\n      /**\n       * ! update the state to triger the component reload\n       */\n\n      var newArr = _this.state.dogs.filter(function (d) {\n        return d.id != id;\n      });\n\n      newArr.push(json);\n\n      _this.setState({\n        dogs: newArr\n      });\n\n      _this.handleHide();\n    };\n\n    _this.handleHide = function () {\n      _this.setState({\n        show: false\n      });\n    };\n\n    _this.handleAdd = function () {\n      _this.setState({\n        id: \"\",\n        name: \"\",\n        owner: \"\",\n        notes: \"\",\n        show: true\n      });\n    };\n\n    _this.handlePost = function () {\n      var _this$state2 = _this.state,\n          name = _this$state2.name,\n          owner = _this$state2.owner,\n          notes = _this$state2.notes,\n          dogs = _this$state2.dogs;\n      var json = {\n        name: name,\n        owner: owner,\n        notes: notes\n      };\n      axios.post(\"/dogs\", json).then(function (res) {\n        _this.handleAlert(res);\n\n        console.log(res.data.newDog);\n\n        _this.setState({\n          dogs: [].concat(_toConsumableArray(dogs), [res.data.newDog])\n        });\n      }).catch(function (e) {\n        return console.log(e);\n      });\n    };\n\n    _this.handleDelete = function (id) {\n      axios.delete(\"/dogs/\" + id).then(function (res) {\n        return _this.handleAlert(res);\n      }).catch(function (e) {\n        return console.log(e);\n      });\n\n      var newArr = _this.state.dogs.filter(function (d) {\n        return d.id != id;\n      });\n\n      _this.setState({\n        dogs: newArr\n      });\n    };\n\n    _this.handleEdit = function (dog) {\n      var id = dog.id,\n          name = dog.name,\n          owner = dog.owner,\n          notes = dog.notes;\n\n      _this.setState({\n        show: true,\n        id: id,\n        name: name,\n        owner: owner,\n        notes: notes\n      });\n    };\n\n    _this.handleChange = function (e) {\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.state = {\n      dogs: [],\n      show: false,\n      id: \"\",\n      name: \"\",\n      owner: \"\",\n      notes: \"\",\n      showAlert: false,\n      alertType: \"success\",\n      columns: [{\n        Header: \"Id\",\n        accessor: \"id\"\n      }, {\n        Header: \"Name\",\n        accessor: \"name\"\n      }, {\n        Header: \"Owner\",\n        accessor: \"owner\"\n      }, {\n        Header: \"Notes\",\n        accessor: \"notes\"\n      }]\n    };\n    return _this;\n  }\n\n  _createClass(DogList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(Table, {\n        striped: true,\n        bordered: true,\n        hover: true,\n        variant: \"dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"#\",\n        onClick: this.handleAdd,\n        className: \"btn btn-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"Add New Dog\")), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"Dog Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Dog Owner\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"Notes\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"Edit\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"Delete\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, this.state.dogs.map(function (dog) {\n        return React.createElement(\"tr\", {\n          key: dog.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, dog.id), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, dog.name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, dog.owner), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, dog.notes), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"btn btn-primary\",\n          onClick: function onClick() {\n            return _this2.handleEdit(dog);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, \"Edit\")), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"btn btn-danger\",\n          onClick: function onClick() {\n            return _this2.handleDelete(dog.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, \"Delete\")));\n      })))), React.createElement(Modal, {\n        show: this.state.show,\n        onHide: this.handleHide,\n        dialogClassName: \"modal-90w\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, \"Edit Dog Information\")), React.createElement(Modal.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        controlId: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"Dog Name\"), React.createElement(Form.Control, {\n        type: \"text\",\n        value: this.state.name,\n        onChange: this.handleChange,\n        name: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        controlId: \"owner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, \"Dog Owner\"), React.createElement(Form.Control, {\n        type: \"text\",\n        value: this.state.owner,\n        onChange: this.handleChange,\n        name: \"owner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        controlId: \"notes\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, \"Notes\"), React.createElement(Form.Control, {\n        type: \"text\",\n        value: this.state.notes,\n        onChange: this.handleChange,\n        name: \"notes\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      })))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, \"Close\"), this.state.id ? React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.handleUpdate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, \"Update\") : React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.handlePost,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, \"Add\"), React.createElement(Button, {\n        onClick: function onClick() {\n          return _this2.handleDelete(_this2.state.id);\n        },\n        variant: \"danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, \"Delete\"))), React.createElement(Alert, {\n        variant: this.state.alertType,\n        show: this.state.showAlert,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, this.state.alertType == \"error\" ? \"Something went wrong!\" : \"Success\"));\n    }\n  }]);\n\n  return DogList;\n}(Component);\n\nexport default DogList;","map":{"version":3,"sources":["/Users/shawn/Documents/Projects/dog-tracker/client/src/DogList.js"],"names":["React","Component","Fragment","axios","Table","Modal","Button","Form","Alert","DogList","fetchData","get","then","res","setState","dogs","data","hideAlert","setTimeout","showAlert","handleAlert","message","alertType","error","handleUpdate","state","id","name","owner","notes","json","put","catch","e","console","log","newArr","filter","d","push","handleHide","show","handleAdd","handlePost","post","newDog","handleDelete","delete","handleEdit","dog","handleChange","target","value","columns","Header","accessor","map"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport axios from \"axios\";\nimport { Table } from \"react-bootstrap\";\nimport { Modal, Button, Form, Alert } from \"react-bootstrap\";\n\nclass DogList extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tdogs: [],\n\t\t\tshow: false,\n\t\t\tid: \"\",\n\t\t\tname: \"\",\n\t\t\towner: \"\",\n\t\t\tnotes: \"\",\n\t\t\tshowAlert: false,\n\t\t\talertType: \"success\",\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\tHeader: \"Id\",\n\t\t\t\t\taccessor: \"id\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tHeader: \"Name\",\n\t\t\t\t\taccessor: \"name\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tHeader: \"Owner\",\n\t\t\t\t\taccessor: \"owner\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tHeader: \"Notes\",\n\t\t\t\t\taccessor: \"notes\"\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t}\n\n\tfetchData = () => {\n\t\taxios.get(\"/dogs\").then(res => {\n\t\t\tthis.setState({ dogs: res.data });\n\t\t});\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.fetchData();\n\t}\n\thideAlert = () => {\n\t\tsetTimeout(() => {\n\t\t\tthis.setState({ showAlert: false });\n\t\t}, 3000);\n\t};\n\n\thandleAlert = res => {\n\t\tres.data.message &&\n\t\t\tthis.setState(\n\t\t\t\t{ alertType: \"success\", showAlert: true },\n\t\t\t\tthis.hideAlert()\n\t\t\t);\n\t\tres.data.error &&\n\t\t\tthis.setState({ alertType: \"dander\", showAlert: true }, this.hideAlert());\n\t};\n\n\thandleUpdate = () => {\n\t\tlet { id, name, owner, notes } = this.state;\n\t\tlet json = {\n\t\t\tid: id,\n\t\t\tname: name,\n\t\t\towner: owner,\n\t\t\tnotes: notes\n\t\t};\n\t\taxios\n\t\t\t.put(\"/dogs/\" + id, json)\n\t\t\t.then(res => this.handleAlert(res))\n\t\t\t.catch(e => console.log(e));\n\n\t\t/**\n\t\t * ! update the state to triger the component reload\n\t\t */\n\t\tlet newArr = this.state.dogs.filter(d => {\n\t\t\treturn d.id != id;\n\t\t});\n\t\tnewArr.push(json);\n\t\tthis.setState({ dogs: newArr });\n\n\t\tthis.handleHide();\n\t};\n\n\thandleHide = () => {\n\t\tthis.setState({ show: false });\n\t};\n\n\thandleAdd = () => {\n\t\tthis.setState({\n\t\t\tid: \"\",\n\t\t\tname: \"\",\n\t\t\towner: \"\",\n\t\t\tnotes: \"\",\n\t\t\tshow: true\n\t\t});\n\t};\n\n\thandlePost = () => {\n\t\tconst { name, owner, notes, dogs } = this.state;\n\t\tconst json = {\n\t\t\tname: name,\n\t\t\towner: owner,\n\t\t\tnotes: notes\n\t\t};\n\t\taxios\n\t\t\t.post(\"/dogs\", json)\n\t\t\t.then(res => {\n\t\t\t\tthis.handleAlert(res);\n\t\t\t\tconsole.log(res.data.newDog);\n\t\t\t\tthis.setState({ dogs: [...dogs, res.data.newDog] });\n\t\t\t})\n\t\t\t.catch(e => console.log(e));\n\t};\n\n\thandleDelete = id => {\n\t\taxios\n\t\t\t.delete(\"/dogs/\" + id)\n\t\t\t.then(res => this.handleAlert(res))\n\t\t\t.catch(e => console.log(e));\n\n\t\tlet newArr = this.state.dogs.filter(d => {\n\t\t\treturn d.id != id;\n\t\t});\n\t\tthis.setState({ dogs: newArr });\n\t};\n\n\thandleEdit = dog => {\n\t\tlet { id, name, owner, notes } = dog;\n\t\tthis.setState({\n\t\t\tshow: true,\n\t\t\tid: id,\n\t\t\tname: name,\n\t\t\towner: owner,\n\t\t\tnotes: notes\n\t\t});\n\t};\n\n\thandleChange = e => {\n\t\tconst { name, value } = e.target;\n\t\tthis.setState({\n\t\t\t[name]: value\n\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<Table striped bordered hover variant=\"dark\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleAdd}\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-success\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tAdd New Dog\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th>Dog Name</th>\n\t\t\t\t\t\t\t\t<th>Dog Owner</th>\n\t\t\t\t\t\t\t\t<th>Notes</th>\n\t\t\t\t\t\t\t\t<th>Edit</th>\n\t\t\t\t\t\t\t\t<th>Delete</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{this.state.dogs.map(dog => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<tr key={dog.id}>\n\t\t\t\t\t\t\t\t\t\t<td>{dog.id}</td>\n\t\t\t\t\t\t\t\t\t\t<td>{dog.name}</td>\n\t\t\t\t\t\t\t\t\t\t<td>{dog.owner}</td>\n\t\t\t\t\t\t\t\t\t\t<td>{dog.notes}</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleEdit(dog)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-danger\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleDelete(dog.id)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</Table>\n\t\t\t\t</div>\n\n\t\t\t\t<Modal\n\t\t\t\t\tshow={this.state.show}\n\t\t\t\t\tonHide={this.handleHide}\n\t\t\t\t\tdialogClassName=\"modal-90w\"\n\t\t\t\t>\n\t\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t\t<Modal.Title>Edit Dog Information</Modal.Title>\n\t\t\t\t\t</Modal.Header>\n\n\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<Form.Group controlId=\"name\">\n\t\t\t\t\t\t\t\t<Form.Label>Dog Name</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t\t\t<Form.Group controlId=\"owner\">\n\t\t\t\t\t\t\t\t<Form.Label>Dog Owner</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.owner}\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\tname=\"owner\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group controlId=\"notes\">\n\t\t\t\t\t\t\t\t<Form.Label>Notes</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.notes}\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\tname=\"notes\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Modal.Body>\n\n\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t<Button variant=\"secondary\">Close</Button>\n\t\t\t\t\t\t{this.state.id ? (\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={this.handleUpdate}>\n\t\t\t\t\t\t\t\tUpdate\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={this.handlePost}>\n\t\t\t\t\t\t\t\tAdd\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => this.handleDelete(this.state.id)}\n\t\t\t\t\t\t\tvariant=\"danger\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Modal.Footer>\n\t\t\t\t</Modal>\n\n\t\t\t\t<Alert variant={this.state.alertType} show={this.state.showAlert}>\n\t\t\t\t\t{this.state.alertType == \"error\"\n\t\t\t\t\t\t? \"Something went wrong!\"\n\t\t\t\t\t\t: \"Success\"}\n\t\t\t\t</Alert>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default DogList;\n"]},"metadata":{},"sourceType":"module"}